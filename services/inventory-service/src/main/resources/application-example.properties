# Sample application.properties for Inventory Service
# Copy this file to application.properties and customize for your environment
#
# For local development, override these values with environment variables
# or create a separate application-local.properties file

spring.application.name=inventory-service
server.port=8082

# Database Configuration
# For production, use environment variables or secrets management
spring.datasource.url=${SPRING_DATASOURCE_URL:jdbc:postgresql://localhost:26257/inventory?sslmode=disable}
spring.datasource.username=${SPRING_DATASOURCE_USERNAME:root}
spring.datasource.password=${SPRING_DATASOURCE_PASSWORD:}
spring.jpa.hibernate.ddl-auto=none
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect

# Liquibase for database migrations
spring.liquibase.change-log=classpath:db/changelog/db.changelog-master.yaml
spring.liquibase.enabled=true

# Chaos Engineering Configuration
# These allow simulating service failures for resilience testing
chaos.latency.enabled=${CHAOS_LATENCY_ENABLED:false}
chaos.latency.min=${CHAOS_LATENCY_MIN:100}
chaos.latency.max=${CHAOS_LATENCY_MAX:2000}
chaos.error.enabled=${CHAOS_ERROR_ENABLED:false}
chaos.error.rate=${CHAOS_ERROR_RATE:0.1}

# OpenTelemetry Configuration
# Set these to point to your OTLP collector (e.g., Grafana Alloy)
otel.exporter.otlp.endpoint=${OTEL_EXPORTER_OTLP_ENDPOINT:http://localhost:4317}
otel.traces.exporter=otlp
otel.metrics.exporter=otlp
otel.logs.exporter=otlp

# Actuator endpoints for health, metrics, and observability
management.endpoints.web.exposure.include=health,prometheus,metrics
management.endpoint.health.show-details=always
management.metrics.export.prometheus.enabled=true

# Enable histogram buckets for percentile calculations (P50, P90, P99)
management.metrics.distribution.percentiles-histogram.http.server.requests=true

# Logging Configuration
logging.level.root=INFO
logging.level.com.observability=INFO
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss} - %msg%n
